<section class="company-detail container-fluid d-flex flex-column align-items-center mt-5 pt-5">
    <div class="col-11 bg-white p-lg-5 p-md-4 p-3 mt-4 shadow com-info-box mb-5">
        <div class="row px-lg-4 mb-3 px-3 pt-3">
            <div class="col-12 col-md-6 com-font-color h3"><%= t "title.detail_title" %></div>
            <% if current_user.user_type == 1%>
                <div class="ml-auto d-lg-flex">                
                    <div class="text-center mr-lg-3">
                        <%= link_to (t 'btn.edit'), edit_company_vacancy_path(@company_vacancy) , class: " #{current_user.user_type == 1 ? 'com-bg-color ' : 'std-bg-color' } custom-btn px-4 py-2 text-decoration-none text-white" %> 
                    </div> 
                </div>
            <% else %>
                <div class="ml-auto">
                    <div class="icon-container favourite-icon ml-3 <%= @fav_vacancy ? 'active' : 'inactive' %>"  id="favourite_vacancy">
                        <i class="fas fa-heart icon"></i>
                        <span class="label"><%= t('btn.fav-text')%></span>
                    </div>
                </div>
                <div class="icon-container std_communication_icon ml-3">
                   <%= link_to ('<i class="fas fa-comments icon"></i>').html_safe, new_communication_communication_path(:id =>@company_vacancy.company_id, :forum_id => @company_vacancy.id, :name => "Vacancy"),remote: true%>
                </div>
                <div  id="communicationModal">
                    <%= render 'communication/communications/communication_modal'%>
                </div>
            <% end %>
        </div>
        <div class="row px-0 px-lg-2">           
            <div class="col-12 col-md-12">
                <div class="row text-break">
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('vacancy_title') %></span>
                        <span class="text-secondary text wrap "><%= @company_vacancy.vacancy_title %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('vacancy_description') %> </span>
                        <span class="text-secondary text-break"><%= @company_vacancy.vacancy_description %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('display_address') %></span>
                        <span class="text-secondary text-break"><%=  @company_vacancy.display_address %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('recruit_industry_type') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy_list.industry_name %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('recruit_job_type') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy_list.occupation_name %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('required_applicants') %></span>
                        <span class="text-secondary text-break"><%=number_with_delimiter(@company_vacancy.required_applicants) %><%= t('unit.persons')%></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('basic_salary') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.basic_salary %><%= t('unit.money')%></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('model_salary') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.model_salary %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('allowance') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.allowance %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('bonus') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.bonus %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('promotion') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.promotion? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('probation') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.probation? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('transportation_allowance') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.transportation_allowance? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('dormitory') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.dormitory? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('insurance') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.insurance? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('severance_pay') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.severance_pay? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('working_hours') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.working_hours %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('break_time') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.break_time %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('over_time') %></span>
                        <span class="text-secondary"><%= @company_vacancy.over_time? ? t("common.a_yes") : t("common.a_no") %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('other') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.other %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('hiring_flow_data') %></span>
                        <span class="text-secondary text-break">
                            <%= @company_vacancy.hiring_flow_data.join(" , ") unless @company_vacancy.hiring_flow_data.nil? %> 
                        </span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('holiday') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.holiday %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= t('title.company_enhancement') %></span>
                        <span class="text-secondary">
                            <% if @company_vacancy.company_enhancement.present? %>
                                <% @company_vacancy.company_enhancement.each_with_index do |v,i| %>
                                    <% if v != 0 %>
                                        <%= t("company_vacancy_enhancement.#{Company::Vacancy.company_vacancy_enhancements.key(i+1)}") %>, 
                                    <% end %>
                                <% end %>
                            <% end %>
                            <%= @welfare_list %>
                        </span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('other_skill') %></span>
                        <span class="text-secondary text-break"><%= @company_vacancy.other_skill %></span>
                    </div> 
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('display_from') %></span>
                        <span class="text-secondary"><%= @company_vacancy.display_from %></span>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3 d-flex flex-column">
                        <span class="h6 com-font-color mb-2"><%= Company::Vacancy.human_attribute_name('display_to') %></span>
                        <span class="text-secondary"><%= @company_vacancy.display_to %></span>
                    </div>
                </div>        
            </div>
        </div>      
    </div>
</section>
<%= hidden_field_tag(:vacancy_id, @company_vacancy.id) %>
<%= javascript_pack_tag "student/students.js" %>